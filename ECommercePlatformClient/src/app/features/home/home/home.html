<!-- Hero Section -->
<!-- Hero Section -->
<section class="hero p-0">
  <div class="hero-background">
    <div class="hero-gradient"></div>
    <div class="hero-glow hero-glow-1"></div>
    <div class="hero-glow hero-glow-2"></div>
    <div class="hero-grid"></div>
  </div>

  <div class="container hero-container h-100">
    <div class="row h-100 align-items-center">
      
      <!-- SOL TARAF: STATİK İÇERİK (Değişmiyor) -->
      <div class="col-lg-6 col-xl-6">
        <div class="hero-content ps-2 ps-lg-0">
          <div class="hero-badge animate-fade-in-up mb-3">
            <span class="badge-dot"></span>
            <span>Yeni Sezon Koleksiyonu</span>
            <i class="bi bi-arrow-right ms-2"></i>
          </div>

          <h1 class="hero-title animate-fade-in-up animate-delay-1 mb-3">
            Premium Kalite,<br />
            <span class="text-gradient-accent">Eşsiz Stil</span>
          </h1>

          <p class="hero-description animate-fade-in-up animate-delay-2 mb-4">
            Özenle seçilmiş koleksiyonlar, benzersiz tasarımlar. Tarzını yansıtan ürünleri keşfet,
            farkını ortaya koy.
          </p>

          <div class="hero-actions animate-fade-in-up animate-delay-3 d-flex gap-3">
            <a routerLink="/products" class="btn btn-accent btn-lg px-4">
              <i class="bi bi-bag me-2"></i>
              Alışverişe Başla
            </a>
            <a routerLink="/categories" class="btn btn-glass btn-lg px-4">
              <i class="bi bi-collection me-2"></i>
              Keşfet
            </a>
          </div>

          <!-- Stats -->
          <div class="hero-stats animate-fade-in-up animate-delay-4 mt-5 d-none d-md-flex">
            <div class="stat-item">
              <span class="stat-value">10K<span class="stat-plus">+</span></span>
              <span class="stat-label">Mutlu Müşteri</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
              <span class="stat-value">500<span class="stat-plus">+</span></span>
              <span class="stat-label">Ürün Çeşidi</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
              <span class="stat-value">4.9</span>
              <span class="stat-label"> <i class="bi bi-star-fill text-warning"></i> Puan </span>
            </div>
          </div>
        </div>
      </div>

      <!-- SAĞ TARAF: DİNAMİK BANNER SLIDER (Carousel Burada) -->
      <div class="col-lg-6 col-xl-6 d-none d-lg-block">
        <div class="hero-visual animate-fade-in-up animate-delay-2 h-100 d-flex align-items-center justify-content-center">
          
          @if (loadingBanners()) {
             <div class="spinner-border text-primary" role="status"></div>
          } @else if (banners().length > 0) {
            
            <!-- Sadece Resimler İçin Carousel -->
            <div id="bannerCarousel" class="carousel slide fade-carousel w-100" data-bs-ride="carousel" data-bs-interval="4000">
              
              <!-- Indicators (Resmin altında küçük noktalar) -->
              <div class="carousel-indicators" style="bottom: -40px;">
                @for (banner of banners(); track banner.id; let i = $index) {
                  <button type="button" data-bs-target="#bannerCarousel" [attr.data-bs-slide-to]="i" [class.active]="i === 0"></button>
                }
              </div>

              <div class="carousel-inner" style="border-radius: 24px; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);">
                @for (banner of banners(); track banner.id; let i = $index) {
                  <div class="carousel-item" [class.active]="i === 0">
                    <!-- Görsel -->
                    <div class="position-relative">
                        <img 
                          [src]="getBannerImageUrl(banner.imageUrl)" 
                          class="d-block w-100" 
                          [alt]="banner.title"
                          style="height: 500px; object-fit: contain; background: transparent;">
                        
                        <!-- Görsel Üzerindeki Başlık (Opsiyonel - Eğer bannerda yazı yoksa buraya koyabiliriz) -->
                        <div class="carousel-caption d-none d-md-block p-4" style="background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); bottom: 0; left: 0; right: 0; width: 100%;">
                          <h5 class="fw-bold mb-1">{{ banner.title }}</h5>
                          <p class="mb-0 small text-white-50">{{ banner.description }}</p>
                          @if(banner.targetUrl) {
  @if(isExternalLink(banner.targetUrl)) {
    <a [href]="banner.targetUrl" class="btn btn-sm btn-light mt-2 rounded-pill px-3">İncele</a>
  } @else {
    <a [routerLink]="banner.targetUrl" class="btn btn-sm btn-light mt-2 rounded-pill px-3">İncele</a>
  }
}
                        </div>
                    </div>
                  </div>
                }
              </div>
              
              <!-- Kontrol Okları -->
              <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev" style="width: 10%;">
                <span class="carousel-control-prev-icon p-2 bg-dark rounded-circle bg-opacity-50" aria-hidden="true"></span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next" style="width: 10%;">
                <span class="carousel-control-next-icon p-2 bg-dark rounded-circle bg-opacity-50" aria-hidden="true"></span>
              </button>

            </div>

          } @else {
             <!-- Banner yoksa eski statik yapı -->
             <div class="hero-card hero-card-1">
                 <div class="card-icon"><i class="bi bi-bag-check"></i></div>
                 <div class="card-content">
                     <span class="card-title">Hızlı Teslimat</span>
                     <span class="card-text">1-3 iş günü</span>
                 </div>
             </div>
             <!-- ... diğer kartlar ... -->
             <div class="hero-orb"></div>
          }
          
        </div>
      </div>

    </div>
  </div>
</section>


<!-- Categories Section - Dark Theme -->
<section class="categories-section section-padding">
  <div class="container">
    <div class="section-header text-center">
      <span class="section-badge">
        <i class="bi bi-grid-3x3-gap"></i>
        Kategoriler
      </span>
      <h2 class="section-title">Popüler Kategoriler</h2>
      <p class="section-subtitle">İhtiyacınız olan her şey tek bir yerde</p>
    </div>


    @if (categories().length > 0) {
    <div class="categories-grid">
      @for (category of categories().slice(0, 6); track category.id; let i = $index) {
      <a
        [routerLink]="['/products']"
        [queryParams]="{ category: category.id }"
        class="category-card animate-fade-in-up"
        [style.animation-delay.ms]="i * 100"
      >
        <div class="category-glow"></div>
        <div class="category-icon">
          <i class="bi bi-box-seam"></i>
        </div>
        <h4 class="category-name">{{ category.name }}</h4>
        <span class="category-link"> Keşfet <i class="bi bi-arrow-right"></i> </span>
      </a>
      }
    </div>
    }
  </div>
</section>


<!-- Featured Products Section -->
<section class="products-section section-padding">
  <div class="container">
    <div class="section-header">
      <div class="section-header-left">
        <span class="section-badge">
          <i class="bi bi-stars"></i>
          Öne Çıkanlar
        </span>
        <h2 class="section-title">Popüler Ürünler</h2>
      </div>
      <a routerLink="/products" class="section-link">
        Tümünü Gör <i class="bi bi-arrow-right"></i>
      </a>
    </div>


    @if (initialLoading()) {
    <app-loading-spinner />
    } @else if (loading()) {
    <div class="products-grid">
      @for (item of [1,2,3,4,5,6,7,8]; track item) {
      <div class="product-skeleton">
        <div class="skeleton skeleton-image"></div>
        <div class="skeleton skeleton-text"></div>
        <div class="skeleton skeleton-text short"></div>
      </div>
      }
    </div>
    } @else if (products().length > 0) {
    <div class="products-grid">
      @for (product of products(); track product.id; let i = $index) {
      <div class="animate-fade-in-up" [style.animation-delay.ms]="(i % 4) * 100">
        <app-product-card [product]="product" (addToCart)="onAddToCart($event)" />
      </div>
      }
    </div>
    } @else {
    <div class="empty-state">
      <div class="empty-icon">
        <i class="bi bi-inbox"></i>
      </div>
      <h4>Henüz ürün bulunmuyor</h4>
      <p>Yakında yeni ürünler eklenecek.</p>
    </div>
    }
  </div>
</section>


<!-- Features Section -->
<section class="features-section section-padding">
  <div class="container">
    <div class="section-header text-center">
      <span class="section-badge">
        <i class="bi bi-award"></i>
        Avantajlar
      </span>
      <h2 class="section-title">Neden Bizi Tercih Etmelisiniz?</h2>
    </div>


    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <i class="bi bi-truck"></i>
        </div>
        <h4 class="feature-title">Ücretsiz Kargo</h4>
        <p class="feature-description">150 TL ve üzeri siparişlerde ücretsiz kargo fırsatı</p>
      </div>


      <div class="feature-card">
        <div class="feature-icon feature-icon-accent">
          <i class="bi bi-shield-check"></i>
        </div>
        <h4 class="feature-title">Güvenli Ödeme</h4>
        <p class="feature-description">256-bit SSL şifreleme ile güvenli ödeme altyapısı</p>
      </div>


      <div class="feature-card">
        <div class="feature-icon feature-icon-success">
          <i class="bi bi-arrow-repeat"></i>
        </div>
        <h4 class="feature-title">Kolay İade</h4>
        <p class="feature-description">14 gün içinde ücretsiz ve kolay iade garantisi</p>
      </div>


      <div class="feature-card">
        <div class="feature-icon feature-icon-info">
          <i class="bi bi-headset"></i>
        </div>
        <h4 class="feature-title">7/24 Destek</h4>
        <p class="feature-description">Her zaman yanınızda profesyonel müşteri hizmetleri</p>
      </div>
    </div>
  </div>
</section>


<!-- CTA Section -->
<section class="cta-section">
  <div class="container">
    <div class="cta-card">
      <div class="cta-glow"></div>
      <div class="cta-content">
        <span class="cta-badge">
          <i class="bi bi-envelope-heart"></i>
          Bülten
        </span>
        <h2 class="cta-title">Özel Fırsatlardan Haberdar Olun</h2>
        <p class="cta-description">
          E-posta listemize katılın, indirimler ve yeni ürünlerden ilk siz haberdar olun.
        </p>
        <form class="cta-form">
          <div class="cta-input-wrapper">
            <i class="bi bi-envelope"></i>
            <input type="email" placeholder="E-posta adresiniz" class="cta-input" />
          </div>
          <button type="submit" class="btn btn-accent btn-lg">Abone Ol</button>
        </form>
        <p class="cta-note">
          <i class="bi bi-shield-check"></i>
          Spam göndermiyoruz. İstediğiniz zaman çıkabilirsiniz.
        </p>
      </div>
    </div>
  </div>
</section>